webpackJsonp([13],{NMlI:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a("U7vG"),s=n(i),c=a("mN8/"),f=n(c),d=a("Dy/9"),m=n(d),p=a("wBkR"),h=n(p),_=a("Rxcj"),g=n(_),b=a("PJh5"),E=n(b),I=a("F8kA"),y=a("XIbl"),v=n(y),w=encodeURI("/main/creditPublicity/creditCommitment/underDetails/"),C=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getRequestURL=function(e){a.setState({loading:!0});var t={page:e||0,size:7,module:"信用公示",column:"线下承诺"};return f.default.post("/shantoucredit_pubserver/front/article/list",t).then(function(e){if(200!==e.code)throw a.setState({loading:!0}),new Error(e.message);a.setState({data:e.data.detail,total:e.data.count,loading:!1})}).catch(function(e){throw a.setState({loading:!0}),new Error(e.message)})},a.handleCut=function(e){return e.length>140?e.substring(0,140)+"...":e},a.pageChange=function(e){a.setState({page:e},function(){a.getRequestURL(e-1)})},a.state={data:[],page:0,total:0,loading:!1},a}return r(t,e),u(t,[{key:"componentDidMount",value:function(){this.getRequestURL()}},{key:"render",value:function(){var e=this;return s.default.createElement("div",null,s.default.createElement("div",{className:v.default.listBox},this.state.loading?s.default.createElement(m.default,null):this.state.data.length?this.state.data.map(function(t,a){return s.default.createElement("figure",{className:v.default.listItem,key:t.id},s.default.createElement("figcaption",{className:v.default.itemCaption},s.default.createElement(I.Link,{to:""+w+t.id,title:t.title,target:"_blank",className:v.default.captionItem+" text-overflow"},t.title),s.default.createElement("span",{className:v.default.sourceBox},s.default.createElement("span",{className:v.default.sourceIcon},"来源"),s.default.createElement("span",{title:t.source,className:v.default.sourceItem+" text-overflow"},t.source),s.default.createElement("span",{className:v.default.sourceTime},t.publishtime?(0,E.default)(parseInt(t.publishtime,10)).format("YYYY-MM-DD"):"--"))),s.default.createElement("figcaption",{className:v.default.itemContent},s.default.createElement("div",{className:v.default.itemDIV},e.handleCut(t.content))))}):s.default.createElement(h.default,null)),s.default.createElement("div",{className:v.default.underFooter},(this.state.total||null)&&s.default.createElement(g.default,{total:this.state.total,pageSize:7,current:0===this.state.page?1:this.state.page,onChange:this.pageChange,showQuickJumper:!0})))}}]),t}(i.Component);t.default=C},XIbl:function(e,t){e.exports={listBox:"listBox__2EtTze",listItem:"listItem__1XE6AS",itemCaption:"itemCaption__1D5Qi4",captionItem:"captionItem__1QB8uA",sourceBox:"sourceBox__3EBfs_",sourceIcon:"sourceIcon__TbIi4D",sourceItem:"sourceItem__2-Eo7l",sourceTime:"sourceTime__zakOVU",itemContent:"itemContent__3xUt6x",itemDIV:"itemDIV__27TRjP"}}});