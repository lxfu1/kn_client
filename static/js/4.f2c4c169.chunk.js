webpackJsonp([4],{"1Xyy":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("U7vG"),c=a(u),s=n("F8kA"),f=n("f5j+"),d=a(f),p=n("mN8/"),m=a(p),h=n("6uZq"),g=a(h),y=n("WpjO"),v=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.register=function(){var e=n.check.checkRule("verify");if(!n.state.checked)return void n.setState({regMsg:"我已经阅读协议?"});e&&m.default.post(y.LOGINSERVICES+"/security/register",n.state.registerData).then(function(e){200===e.status?n.props.changeModle("regSuccess"):(n.setState({regMsg:e.message}),n.sleep(2e3))})},n.getImgCode=function(){var e=n.guid();n.uuid=e,m.default.get(y.LOGINSERVICES+"/security/imgcode/"+e).then(function(t){n.state.registerData.uuid=e,n.setState({src:y.LOGINSERVICES+"/security/imgcode/"+e,registerData:n.state.registerData})})},n.getPhoneCode=function(){if(!n.state.getCode){var e=void 0,t=void 0,a=void 0;e=n.state.registerData.phone,t=n.uuid,a=n.state.registerData.imgcode,/^1[34578]\d{9}$/.test(e)&&(e&&a?m.default.get(y.LOGINSERVICES+"/security/phonecode?phone="+e+"&imgcode="+a+"&uuid="+t).then(function(e){200===e.status?(n.state.registerData.phonecode="",n.refs.codePhone.value="",n.setState({text:"60s",times:!0,registerData:n.state.registerData},function(){n.setInter()})):(n.setState({regMsg:e.message}),n.sleep(2e3))}):(n.setState({regMsg:a?"请输入手机号":"请输入验证码"}),n.time||n.sleep(2e3)))}},n.guid=function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},n.setData=function(e){n.state.registerData[e.target.getAttribute("name")]=e.target.value,n.setState({registerData:n.state.registerData}),"phone"==e.target.getAttribute("name")&&/^1[34578]\d{9}$/.test(e.target.value)&&m.default.get(y.LOGINSERVICES+"/security/checkPhone/"+e.target.value).then(function(e){200===e.status&&(e.data?n.setState({getCode:!0,regMsg:"手机号已被注册"}):n.setState({getCode:!1,regMsg:""}))}).catch(function(){n.setState({getCode:!1})})},n.sleep=function(e){n.time||(n.time=setTimeout(function(){n.time=null,n.setState({regMsg:""})},e))},n.setInter=function(){var e=n.state.count;n.interval=setInterval(function(){e-=1,e<1?(clearInterval(n.interval),n.setState({count:60,times:null,text:"获取验证码"})):n.setState({text:e+"s"})},1e3)},n.setChecked=function(e){n.setState({checked:e.target.checked,regMsg:""})},n.uuid="",n.check=new g.default,n.time=null,n.interval=null,n.state={count:60,src:"",regMsg:"",getCode:!1,text:"获取验证码",times:null,checked:!1,registerData:{userFrom:"WEB",imgcode:"",password:"",phone:"",phonecode:"",repassword:"",username:"",uuid:""}},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.check.bindOnBlur(),this.getImgCode()}},{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){var e=this,t=void 0;return this.state.times&&(t={background:"#737373",cursor:"not-allowed",border:"1px solid #737373"}),c.default.createElement("div",{className:d.default.loginBox},c.default.createElement("h5",{className:d.default.title},"注册"),c.default.createElement("div",{className:d.default.registerItem,id:"verify"},c.default.createElement("input",{type:"text",className:"e-validator",name:"phone","data-options":"require phone",onChange:function(t){e.setData(t)},placeholder:"手机号码"}),c.default.createElement("div",{className:d.default.codeBox},c.default.createElement("input",{type:"text",className:"e-validator",name:"imgcode","data-options":"require",onChange:function(t){e.setData(t)},placeholder:"图像验证码"}),c.default.createElement("div",{className:d.default.codeImg,onClick:this.getImgCode},c.default.createElement("img",{src:this.state.src,alt:""}))),c.default.createElement("div",{className:d.default.codeBox},c.default.createElement("input",{type:"text",ref:"codePhone",className:"e-validator",name:"phonecode","data-options":"require number",onChange:function(t){e.setData(t)},placeholder:"手机验证码"}),c.default.createElement("div",{className:d.default.codeImg},c.default.createElement("button",{style:t,onClick:this.state.times?null:function(){e.getPhoneCode()}},this.state.text))),c.default.createElement("input",{type:"password",className:"e-validator",name:"password","data-options":"require pw",onChange:function(t){e.setData(t)},placeholder:"密码，6~20位"}),c.default.createElement("input",{type:"password",className:"e-validator",name:"repassword","data-options":"require pw",onChange:function(t){e.setData(t)},placeholder:"重复密码"}),c.default.createElement("div",{className:d.default.member},c.default.createElement("input",{type:"checkbox",id:"read",checked:this.state.checked,onChange:this.setChecked}),c.default.createElement("label",{htmlFor:"read"},"点击同意"),c.default.createElement(s.NavLink,{to:"/main/netapplication",target:"_blank"},c.default.createElement("i",{dangerouslySetInnerHTML:{__html:"《汕头信用网站服务协议》"}}))),c.default.createElement("p",{className:d.default.errTip},this.state.regMsg),c.default.createElement("button",{className:d.default.loginAction,style:{marginTop:"5px"},onClick:this.register},"立即注册"),c.default.createElement("div",{className:d.default.moreMessage},c.default.createElement("label",null,"已有账户？"),c.default.createElement("span",{onClick:function(){e.props.changeModle("login")}},"立即登录"))))}}]),t}(u.Component);t.default=v},"1nzs":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("U7vG"),s=a(c),f=n("F8kA"),d=n("Mn8c"),p=n("IcnI"),m=n("f5j+"),h=a(m),g=n("mN8/"),y=a(g),v=n("WpjO"),b=n("ppXq"),_=a(b),E=(0,d.observer)(l=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.loginAction=function(){return n.state.sendData.username&&n.state.sendData.password?n.state.code&&!n.state.sendData.imgcode?void n.setState({loginMsg:"请输入验证码"}):void y.default.post(v.LOGINSERVICES+"/security/tokenfront",n.state.sendData).then(function(e){if(200===e.status){try{_.default.emit("loginEvent",e.data)}catch(e){}n.refs.username.value="",n.refs.password.value="",sessionStorage.setItem("token",e.data.token),sessionStorage.setItem("roles",JSON.stringify(e.data.roles)),sessionStorage.setItem("user",JSON.stringify(e.data.user)),p.loginStore.setCookie("user",JSON.stringify(e.data.user),432e6),p.loginStore.toggleLogin(!1),p.loginStore.setUserInfo(e.data.user),p.personalStore.login(e.data.user),p.loginStore.showUserName(e.data.user.username),n.setState({loginMsg:""},function(){n.state.checked&&p.loginStore.rememberPw(n.state.sendData)})}else{var t=!1;e.imgcode&&(t=!0,n.getImgCode()),n.setState({loginMsg:e.message,code:t})}}).catch(function(e){n.setState({loginMsg:"出现错误"})}):void n.setState({loginMsg:"请输入用户名和密码"})},n.getImgCode=function(){var e=n.guid();n.uuid=e,y.default.get(v.LOGINSERVICES+"/security/imgcode/"+e).then(function(t){n.state.sendData.uuid=e,n.setState({src:v.LOGINSERVICES+"/security/imgcode/"+e,sendData:n.state.sendData})})},n.guid=function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},n.setData=function(e){n.state.sendData[e.target.getAttribute("name")]=e.target.value,n.setState({sendData:n.state.sendData})},n.keyDownListener=function(e){13==(e.keyCode||e.which||e.charCode)&&n.loginAction()},n.setChecked=function(e){n.setState({checked:e.target.checked})},n.componentWillUnmount=function(){},n.uuid="",n.state={code:!1,src:"",loginMsg:"",checked:!!p.loginStore.userName,sendData:{}},n}return i(t,e),u(t,[{key:"componentDidMount",value:function(){this.refs.username.value&&(this.state.sendData.username=this.refs.username.value,this.state.sendData.password=this.refs.password.value,this.setState({sendData:this.state.sendData}))}},{key:"render",value:function(){var e=this;return s.default.createElement("div",{className:h.default.loginBox},s.default.createElement("h5",{className:h.default.title},"登录"),s.default.createElement("div",{className:h.default.loginItem},s.default.createElement("div",{className:h.default.common},s.default.createElement("i",{className:"iconfont"},""),s.default.createElement("input",{type:"text",name:"username",ref:"username",onKeyDown:this.keyDownListener,onChange:function(t){e.setData(t)},placeholder:"输入用户名"})),s.default.createElement("div",{className:h.default.common},s.default.createElement("i",{className:"iconfont"},""),s.default.createElement("input",{type:"password",name:"password",ref:"password",onKeyDown:this.keyDownListener,onChange:function(t){e.setData(t)},placeholder:"输入密码"})),s.default.createElement("div",{className:h.default.codeBox+" "+h.default.logCode,style:{display:this.state.code?"block":"none",marginTop:"25px"}},s.default.createElement("input",{type:"text",name:"imgcode",onKeyDown:this.keyDownListener,onChange:function(t){e.setData(t)},placeholder:"验证码"}),s.default.createElement("div",{className:h.default.codeImg,onClick:this.getImgCode},s.default.createElement("img",{src:this.state.src,alt:""}))),s.default.createElement("div",{className:h.default.member},s.default.createElement("input",{type:"checkbox",id:"mem",checked:this.state.checked,onChange:this.setChecked}),s.default.createElement("label",{htmlFor:"mem"},"下次自动登录"),s.default.createElement("span",{onClick:function(){e.props.changeModle("find")}},"忘记密码？")),s.default.createElement("p",{className:h.default.errTip},this.state.loginMsg),s.default.createElement("button",{className:h.default.loginAction,onClick:function(){e.loginAction()}},"登录"),s.default.createElement("div",{className:h.default.moreMessage},s.default.createElement("label",null,"还没注册账户？"),s.default.createElement("span",{onClick:function(){e.props.changeModle("register")}},"免费注册"))))}}]),t}(c.Component))||l;t.default=(0,f.withRouter)(E)},"6W/H":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("U7vG"),c=a(u),s=n("CvuD"),f=a(s),d=n("mN8/"),p=(a(d),function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={show:!1},n}return i(t,e),l(t,[{key:"render",value:function(){return c.default.createElement("div",{className:f.default.footer},c.default.createElement("div",{className:f.default.center},c.default.createElement("p",null,"技术支持：腾讯云计算（北京）有限责任公司"),c.default.createElement("p",null,"（建议使用IE9以上版本进行浏览）")))}}]),t}(c.default.Component));t.default=p},"6uZq":function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(){var t=this;a(this,e),this.verify={require:function(e){return e.length>1},chinese:function(e){return/^[\u4e00-\u9fa5\-_，。\（）\s　]*$/.test(e)},requireData:function(e){return e.length>0},number:function(e){return/^[0-9]*$/.test(e)},string:function(e){return/(^[\w-]+(\.[\w-]+)+(\.[\w-])+$)|(^[\w-]+$)|(^[\w-]+(\.[\w-]+)+$)/.test(e)},code:function(e){return/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(e)},age:function(e){return/^[1-9]\d*$/.test(e)},decimal:function(e){return/^\d{1,7}\.?\d{0,2}$/.test(e)},phone:function(e){return/^1[34578]\d{9}$/.test(e)},email:function(e){return/^(\w)+(\.\w+)*@(\w)+((\.\w{2,3}){1,3})$/.test(e)},pw:function(e){return/^[0-9A-Za-z\-_,.:\""\&\()\s　]+$/.test(e)&&e.length>5&&e.length<21}},this.bindOnBlur=function(){var e=t,n=document.querySelectorAll(".e-validator"),a=!0,r=!1,o=void 0;try{for(var i,l=n[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var u=i.value;!function(t){"select-one"===t.type?t.addEventListener("change",function(){e.onlyVerify(t)},!1):(t.addEventListener("keyup",function(){e.onlyVerify(t)},!1),t.addEventListener("blur",function(){t.value&&e.onlyVerify(t)},!1))}(u)}}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}n=null},this.onlyVerify=function(e){var n=e.getAttribute("data-options"),a=!1,r=n.split(" ");1===r.length&&(a=t.verify[n].call(t,e.value)),2===r.length&&(a=t.verify[r[0]].call(t,e.value)&&t.verify[r[1]].call(t,e.value)),e.style.cssText=a?"box-shadow: none;":"box-shadow: 0 0 1px 2px red inset;outline: none !important;"},this.reset=function(){var e=document.querySelectorAll(".e-validator"),t=!0,n=!1,a=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value.style.cssText="box-shadow: none;"}}catch(e){n=!0,a=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw a}}},this.removeVerify=function(){var e=document.querySelectorAll(".e-validator"),n=!0,a=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var l=o.value;!function(e){e.removeListeners("change",function(){t.onlyVerify(e)},!1),e.removeListeners("keyup",function(){t.onlyVerify(e)},!1)}(l)}}catch(e){a=!0,r=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw r}}}}return o(e,[{key:"checkRule",value:function(e){var t=e?document.querySelector("#"+e).querySelectorAll(".e-validator"):document.querySelectorAll(".e-validator"),n=[],a=!0,o=!1,i=void 0;try{for(var l,u=t[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value,s=c.getAttribute("data-options"),f=c.value,d={valid:s,value:f};n.push(d)}}catch(e){o=!0,i=e}finally{try{!a&&u.return&&u.return()}finally{if(o)throw i}}var p=[],m=!0,h=!1,g=void 0;try{for(var y,v=new Map(n.map(function(e,t){return[t,e]}))[Symbol.iterator]();!(m=(y=v.next()).done);m=!0){var b=y.value,_=r(b,2),E=_[0],w=_[1],S=w.valid.split(" "),O=E,d={};if(1===S.length&&(w.value||"require"===w.valid)){d={elm:O,c:this.verify[w.valid].call(this,w.value)},p.push(d)}if(2===S.length){d={elm:O,c:this.verify[S[0]].call(this,w.value)&&this.verify[S[1]].call(this,w.value)},p.push(d)}}}catch(e){h=!0,g=e}finally{try{!m&&v.return&&v.return()}finally{if(h)throw g}}var k=p.length,N=!0,C=!1,j=void 0;try{for(var M,x=p[Symbol.iterator]();!(N=(M=x.next()).done);N=!0){var I=M.value;I.c?k--:t[I.elm].style.cssText="box-shadow: 0 0 1px 2px red inset;outline: none !important;"}}catch(e){C=!0,j=e}finally{try{!N&&x.return&&x.return()}finally{if(C)throw j}}return 0===k}}]),e}();t.default=i},AV63:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("U7vG"),c=a(u),s=n("f5j+"),f=a(s),d=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:f.default.loginBox},c.default.createElement("div",{className:f.default.registerItem},c.default.createElement("div",{className:f.default.regSuccess},c.default.createElement("h5",null,"注册成功")),c.default.createElement("button",{className:f.default.loginAction,onClick:function(){e.props.changeModle("login")}},"返回登录")))}}]),t}(u.Component);t.default=d},BW59:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("U7vG"),c=a(u),s=n("NQlb"),f=a(s),d=n("f5j+"),p=a(d),m=n("1nzs"),h=a(m),g=n("dpZu"),y=a(g),v=n("1Xyy"),b=a(v),_=n("zxRx"),E=a(_),w=n("AV63"),S=a(w),O=n("jgFU"),k=a(O),N=n("zne/"),C=a(N),j=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getHeight=function(e){switch(e){case"login":return 480;case"find":return 430;case"register":return 510;case"modify":return 400;case"regSuccess":case"findSuccess":return 320;case"notMatch":return 540}},n.setModle=function(){switch(n.state.model){case"login":return c.default.createElement(h.default,{changeModle:n.change});case"find":return c.default.createElement(y.default,{changeModle:n.change});case"register":return c.default.createElement(b.default,{changeModle:n.change});case"modify":return c.default.createElement(E.default,{changeModle:n.change,data:n.state.modifyData});case"regSuccess":return c.default.createElement(S.default,{changeModle:n.change});case"findSuccess":return c.default.createElement(k.default,{changeModle:n.change});case"notMatch":return c.default.createElement(C.default,{changeModle:function(){n.props.cancel()}})}},n.change=function(e,t){n.setState({model:e,modifyData:t||"",height:n.getHeight(e||"login")})},n.state={model:n.props.type||"login",modifyData:"",height:n.getHeight(n.props.type||"login")},n}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){e.type!==this.state.model&&this.setState({model:e.type,height:this.getHeight(e.type||"login")})}},{key:"render",value:function(){var e=this.props,t=e.cancel,n=e.show;return c.default.createElement(f.default,{width:580,height:this.state.height,visible:n,onClose:t},c.default.createElement("div",{className:p.default.loginBoxs},this.setModle()))}}]),t}(u.Component);t.default=j},CvuD:function(e,t){e.exports={footer:"footer__3b7cCM",center:"center__2RyjPN"}},DkNq:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("U7vG"),s=a(c),f=n("F8kA"),d=n("Mn8c"),p=n("IcnI"),m=n("ZbQe"),h=a(m),g=[{name:"主页",to:"/main/home"},{name:"空闲小写",to:"/main/creditDynamics"},{name:"生活杂选",to:"/main/creditPublicity"},{name:"Blog",to:"/main/blog"}],y=function(e){var t=e.name,n=e.to;return s.default.createElement(f.NavLink,{to:n,className:h.default.navItem,activeClassName:h.default.navItemActive,key:t+n},t)},v=(0,d.observer)(l=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.loginAction=function(e,t){p.loginStore.toggleLogin(!0,e)},n.loginOut=function(){sessionStorage.removeItem("roles"),sessionStorage.removeItem("user"),p.loginStore.outUser(),p.personalStore.clearUserInfo(),"home"===p.personalStore.pushHome()&&n.props.history.push("/")},n.state={show:!1},n}return i(t,e),u(t,[{key:"componentDidMount",value:function(){p.loginStore.checkMember("mem")}},{key:"render",value:function(){var e=this;return s.default.createElement("div",{className:h.default.header},s.default.createElement("div",{className:h.default.navBox},s.default.createElement("div",{className:h.default.navList},g.map(function(e){return y(e)})),p.loginStore.userName?s.default.createElement("div",null,s.default.createElement("i",{className:"iconfont"},""),s.default.createElement("label",null,s.default.createElement(f.NavLink,{to:"/main/basicInfo"},p.loginStore.userName)),s.default.createElement("label",{className:h.default.split},"/"),s.default.createElement("label",{onClick:this.loginOut},"退出")):s.default.createElement("div",null,s.default.createElement("i",{className:"iconfont"},""),s.default.createElement("label",{onClick:function(t){e.loginAction("login",t)}},"登录"),s.default.createElement("label",{className:h.default.split},"/"),s.default.createElement("label",{onClick:function(t){e.loginAction("register",t)}},"注册"))))}}]),t}(s.default.Component))||l;t.default=(0,f.withRouter)(v)},M1WD:function(e,t,n){e.exports=n.p+"assets/images/2RqrrF5PwF.png"},Ml0K:function(e,t,n){e.exports=n.p+"assets/images/2DEinnB_7m.png"},N2Qr:function(e,t,n){e.exports=n.p+"assets/images/NORszTe83r.png"},NL10:function(e,t,n){e.exports=n.p+"assets/images/PZd6jSZ04N.png"},Sdzu:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("U7vG"),c=a(u),s=(n("F8kA"),n("lSmi")),f=a(s),d=n("N2Qr"),p=(a(d),n("kSzc")),m=(a(p),n("NL10")),h=(a(m),n("Ml0K")),g=a(h),y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.EventScroll=function(){var e=void 0;(e=(document.documentElement.scrollTop||document.body.scrollTop)>200)===n.state.show||n.status||(n.status=!0,n.setState({show:e},function(){n.status=!1}))},n.scrollTop=function(){if(window.requestAnimationFrame){var e=n;e.time=requestAnimationFrame(function t(){var n=document.body.scrollTop||document.documentElement.scrollTop;n>0?(scrollTo(0,n-100),e.time=requestAnimationFrame(t)):cancelAnimationFrame(e.time)})}else scrollTo(0,0)},n.time=null,n.status=!1,n.state={show:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.EventScroll)}},{key:"componentWillMount",value:function(){(document.documentElement.scrollTop||document.body.scrollTop)>200&&(this.setState({show:!0}),this.status=!1)}},{key:"render",value:function(){return c.default.createElement("div",{className:f.default.rightScroll},c.default.createElement("div",{className:f.default.common,style:{display:this.state.show?"block":"none"},onClick:this.scrollTop},c.default.createElement("img",{src:g.default}),c.default.createElement("p",null,"TOP")))}}]),t}(c.default.Component);t.default=y},VzN1:function(e,t){e.exports={content:"content__3LdVg8",message:"message__1UUS_L",ok:"ok__ANVYwG",spanlabel:"spanlabel__QKphJ-"}},ZbQe:function(e,t){e.exports={header:"header__3loT1j",navBox:"navBox__2pgu2k",navList:"navList__12c-kY",navItem:"navItem__aZAOD8",navItemActive:"navItemActive__nG9geC"}},dpZu:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n("U7vG"),s=a(c),f=n("f5j+"),d=a(f),p=n("Mn8c"),m=n("IcnI"),h=n("6uZq"),g=a(h),y=n("mN8/"),v=a(y),b=n("WpjO"),_=(0,p.observer)(l=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.nextStep=function(){n.check.checkRule("finds")&&v.default.get(b.LOGINSERVICES+"/security/checkcode?phone="+n.state.modifyData.phone+"&code="+n.state.modifyData.code+"&uuid="+n.uuid).then(function(e){200===e.status?(m.loginStore.outUser(),n.props.changeModle("modify",e.data)):n.setState({regMsg:e.message||"数据有误"})})},n.getImgCode=function(){var e=n.guid();n.uuid=e,v.default.get(b.LOGINSERVICES+"/security/imgcode/"+e).then(function(t){n.state.modifyData.uuid=e,n.setState({src:b.LOGINSERVICES+"/security/imgcode/"+e,modifyData:n.state.modifyData})})},n.getPhoneCode=function(){var e=void 0,t=void 0,a=void 0;e=n.state.modifyData.phone,t=n.uuid,a=n.state.modifyData.imgcode,e&&a?v.default.get(b.LOGINSERVICES+"/security/passwordPhonecode?phone="+e+"&imgcode="+a+"&uuid="+t).then(function(e){200===e.status?(n.state.modifyData.phonecode="",n.refs.codePhone.value="",n.setState({text:"60s",times:!0,modifyData:n.state.modifyData},function(){n.setInter()})):(n.setState({regMsg:e.message}),n.sleep(2e3))}):(n.setState({regMsg:a?"请输入手机号":"请输入验证码"}),n.time||n.sleep(2e3))},n.guid=function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},n.setData=function(e){n.state.modifyData[e.target.getAttribute("name")]=e.target.value,n.setState({modifyData:n.state.modifyData})},n.sleep=function(e){n.time=setTimeout(function(){n.time=null,n.setState({regMsg:""})},e)},n.setInter=function(){var e=n.state.count;n.interval=setInterval(function(){e-=1,e<1?(clearInterval(n.interval),n.setState({count:60,times:null,text:"获取验证码"})):n.setState({text:e+"s"})},1e3)},n.uuid="",n.check=new g.default,n.time=null,n.interval=null,n.state={count:60,src:"",regMsg:"",text:"获取验证码",times:null,modifyData:{imgcode:"",phone:"",phonecode:"",uuid:""}},n}return i(t,e),u(t,[{key:"componentDidMount",value:function(){this.check.bindOnBlur(),this.getImgCode()}},{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){var e=this,t=void 0;return this.state.times&&(t={background:"#737373",cursor:"not-allowed",border:"1px solid #737373"}),s.default.createElement("div",{className:d.default.loginBox},s.default.createElement("h5",{className:d.default.title},"密码找回"),s.default.createElement("div",{className:d.default.findItem,id:"finds"},s.default.createElement("div",{className:d.default.codeBox},s.default.createElement("input",{type:"text",className:"e-validator",name:"imgcode","data-options":"require",onChange:function(t){e.setData(t)},placeholder:"图像验证码"}),s.default.createElement("div",{className:d.default.codeImg,onClick:this.getImgCode},s.default.createElement("img",{src:this.state.src,alt:""}))),s.default.createElement("input",{type:"text",id:d.default.inputs,className:"e-validator",name:"phone","data-options":"require phone",onChange:function(t){e.setData(t)},placeholder:"手机号码"}),s.default.createElement("div",{className:d.default.codeBox},s.default.createElement("input",{type:"text",className:"e-validator",ref:"codePhone",name:"code","data-options":"require number",onChange:function(t){e.setData(t)},placeholder:"手机验证码"}),s.default.createElement("div",{className:d.default.codeImg},s.default.createElement("button",{style:t,onClick:this.state.times?null:function(){e.getPhoneCode()}},this.state.text))),s.default.createElement("p",{className:d.default.errTip},this.state.regMsg),s.default.createElement("button",{className:d.default.loginAction,onClick:function(){e.nextStep()}},"下一步"),s.default.createElement("div",{className:d.default.moreMessage},s.default.createElement("span",{onClick:function(){e.props.changeModle("login")}},"返回登录"))))}}]),t}(c.Component))||l;t.default=_},"f5j+":function(e,t){e.exports={loginBoxs:"loginBoxs__2o_aK6",loginBox:"loginBox__gPO4OV",title:"title__2g7TgQ",loginItem:"loginItem__38U9kq",registerItem:"registerItem__O5U6pD",findItem:"findItem__3-TiTH",codeBox:"codeBox__1aiSCU",codeImg:"codeImg__LSpXHz",errTip:"errTip__CWPC1d",loginAction:"loginAction__14sPSU",member:"member__4sS--N",moreMessage:"moreMessage__39Zct5",regSuccess:"regSuccess__1wIvyn",common:"common__3hzMkO",inputs:"inputs__3b5xvt",bbdInput:"bbdInput__RR3Wt8"}},gO07:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,a){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,s,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n("U7vG"),p=a(d),m=n("IcnI"),h=n("rJ7r"),g=a(h),y=n("DkNq"),v=a(y),b=n("6W/H"),_=a(b),E=n("BW59"),w=a(E),S=n("Sdzu"),O=a(S),k=n("Mn8c"),N=n("y986"),C=n("mN8/"),j=a(C),M=(0,k.observer)((c=function(e){function t(){var e,n,a,l;o(this,t);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r(a,"url",s,a),a.cancel=function(){m.loginStore.toggleLogin(!1)},l=n,i(a,l)}return l(t,e),f(t,[{key:"componentDidUpdate",value:function(){var e=location.href;this.url!==e&&(this.url=location.href,j.default.get("/shantoucredit_pubserver/index/view"))}},{key:"render",value:function(){return p.default.createElement("div",{id:g.default["home-page"]},p.default.createElement(v.default,null),p.default.createElement("div",{className:g.default.children},this.props.children),p.default.createElement(O.default,null),p.default.createElement(_.default,null),p.default.createElement(w.default,{cancel:this.cancel,show:m.loginStore.LoginStatus,type:m.loginStore.LoginTab}))}}]),t}(d.Component),s=function(e,t,n,a,r){var o={};return Object.keys(a).forEach(function(e){o[e]=a[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,a){return a(e,t,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(c.prototype,"url",[N.observable],{enumerable:!0,initializer:function(){return null}}),u=c))||u;t.default=M},jgFU:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("U7vG"),c=a(u),s=n("f5j+"),f=a(s),d=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:f.default.loginBox},c.default.createElement("div",{className:f.default.registerItem},c.default.createElement("div",{className:f.default.regSuccess},c.default.createElement("h5",null,"找回成功")),c.default.createElement("button",{className:f.default.loginAction,onClick:function(){e.props.changeModle("login")}},"返回登录")))}}]),t}(u.Component);t.default=d},kSzc:function(e,t,n){e.exports=n.p+"assets/images/V1wrLndVFF.jpg"},lSmi:function(e,t){e.exports={rightScroll:"rightScroll__3K6-Hv",common:"common__3iZYX7",weixin:"weixin__q6we9U",diimg:"diimg__NBOCpR"}},rJ7r:function(e,t){e.exports={children:"children__3ZhD1B"}},"zne/":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("U7vG"),c=a(u),s=n("VzN1"),f=a(s),d=n("IcnI"),p=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:f.default.content},c.default.createElement("img",{src:n("M1WD")}),c.default.createElement("span",{className:f.default.message},d.loginStore.message),c.default.createElement("div",{style:{marginTop:"40px"}},c.default.createElement("p",null,c.default.createElement("span",{className:f.default.spanlabel},"服务电话："),c.default.createElement("span",null,"0754-88658082")),c.default.createElement("p",null,c.default.createElement("span",{className:f.default.spanlabel},"服务时间："),c.default.createElement("span",null,"周一到周五，上午9点到12点，下午2点到6点"))),c.default.createElement("button",{onClick:function(){e.props.changeModle()},className:f.default.ok},"确定"))}}]),t}(u.Component);t.default=p},zxRx:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("U7vG"),c=a(u),s=n("f5j+"),f=a(s),d=n("mN8/"),p=a(d),m=n("WpjO"),h=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.sureModify=function(){var e=!0,t="";n.validator(n.data.newpassword)&&n.validator(n.data.repassword)||(e=!1,t="密码长度应为6~20位"),n.data.newpassword!==n.data.repassword&&(e=!1,t="密码不一致"),e?n.modifyPs():(n.setState({errMsg:t}),n.sleep(4e3))},n.validator=function(e){return/^[0-9A-Za-z\-_,.:\""\&\()\s　]+$/.test(e)&&e.length>5&&e.length<21},n.modifyPs=function(){n.data.phoneToken=n.props.data,p.default.post(m.LOGINSERVICES+"/security/changeByPhone",n.data).then(function(e){200===e.status?n.props.changeModle("findSuccess"):n.setState({errMsg:e.message})})},n.setData=function(e){n.data[e.target.getAttribute("name")]=e.target.value},n.sleep=function(e){n.time||(n.time=setTimeout(function(){n.time=null,n.setState({errMsg:""})},e))},n.time=null,n.data={newpassword:"",repassword:""},n.state={errMsg:""},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:f.default.loginBox},c.default.createElement("div",{className:f.default.loginItem},c.default.createElement("input",{type:"password",className:f.default.bbdInput,name:"newpassword",onChange:function(t){e.setData(t)},placeholder:"密码，6~20位"}),c.default.createElement("input",{type:"password",className:f.default.bbdInput,name:"repassword",onChange:function(t){e.setData(t)},placeholder:"重复密码"}),c.default.createElement("p",{className:f.default.errTip},this.state.errMsg),c.default.createElement("button",{className:f.default.loginAction,onClick:this.sureModify},"确认"),c.default.createElement("div",{className:f.default.moreMessage},c.default.createElement("span",{onClick:function(){e.props.changeModle("login")}},"返回登录"))))}}]),t}(u.Component);t.default=h}});